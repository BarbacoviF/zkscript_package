## zk Script Library

The zk Script Library is a collection of Python scripts that generate Bitcoin SV Scripts compatible with [Bitcoin SV version 1.1.0](https://github.com/bitcoin-sv/bitcoin-sv). 

The library supports the generation of Groth16 verification scripts and ancillary operations. 

The following scripts are currently implemented:
- [Finite field arithmetic](./docs/finite_fields.md)
- [Elliptic curve arithmetic](./docs/elliptic_curves.md)
- [Bilinear pairings](./docs/bilinear_pairings.md)
- [Groth16](./docs/groth16.md)

The library currenly contains implementations of pairings and Groth16 for:
- [BLS12-381](./zkscript/groth16/bls12_381/bls12_381.py)
- [MNT5-753](./zkscript/groth16/mnt4_753/mnt4_753.py)

## Requirements
Make sure you are using Python 3.11 or later versions.

You can check your Python version with 
```bash
python --version
```

## Installation 
After cloning the repository, you can install all the dependencies with
```bash
pip install -r requirements.txt
```

## Getting started
The folder `test` contains scripts generating Bitcoin Scripts
for all the implemented operations.
Groth16 locking scripts are generated by [bls12_381_groth16.py](./tests/groth16/bls12_381_groth16.py) and [mnt4_753_groth16.py](./tests/groth16/mnt4_753_groth16.py).

You can generate the locking script verifying Groth16 for BLS12-281 with

```bash
python .\tests\groth16\bls12_381_groth16.py 1
```

Scripts in the `tests` folder
take one extra argument. If the value is 1, the generated locking script is saved in a json file, if the value is 0, no output is saved.

## Script size
A transaction spending an output locked by a Groth16 verifier can be found [here](https://whatsonchain.com/tx/e4cd00c1fa7dd6931dd1e45034e9d9f732e6d7d38f7826341715f488a146514c).

The script sizes for Groth16 are:

| Curve | # public statements | Unlocking script size | Locking script size | Total |
| ----- | ------------------- | --------------------- | ------------------- | ----- |
| `BLS12-381` | 2 | ~ 60 KB | ~ 480 KB | ~ 540 KB |
| `MNT4-753` | 1 | ~ 400 KB | ~ 720 KB | ~ 1.12 MB |
Note: the unlocking script is dependent on the public statements. 


## Disclaimer
The code and resources within this repository are intended for research and educational purposes only.

Please note:
- The repository may be updated without notice.
- The code may not be fully optimized or suitable for production use.
- No guarantees are provided regarding the security or the performance of the code.
- Users are responsible for validating the code and understanding its implications before using it in any capacity.
- There may be edge cases causing bugs or unexpected behaviours. Please contact us if you find any bug. 

## License
The code is released under the attached [LICENSE](./LICENSE.txt).



